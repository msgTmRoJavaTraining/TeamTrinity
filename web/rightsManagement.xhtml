<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui">
    <h:body>
        <ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                        xmlns:f="http://java.sun.com/jsf/core"
                        xmlns:h="http://java.sun.com/jsf/html"
                        template="/templates/navBarTemplate.xhtml">

            <ui:define name="title">#{msg.pages_title_rightsManagement}</ui:define>

            <ui:define name="content">
                <h:form id="form1">
                    <div class="centered">
                        <p:dataTable var="role" value="#{rightsManagementBean.systemRoles}" tableStyle="table-layout: auto;"
                                     resizableColumns="true" style="width: content-box">

                            <p:column headerText="Role">
                                <h:outputText value="#{role.roleName}"/>
                            </p:column>
                            <p:column headerText="Rights">
                                <!--                                                onchange="#{rightsManagementBean.onChangeSelectedRoleRights(role.rights, role)}"-->
                                <p:selectCheckboxMenu label="Permissions" id="menu" multiple="true" value="#{role.rights}">
                                    <f:selectItems value="#{rightsManagementBean.rolesRights}"/>
                                </p:selectCheckboxMenu>
                            </p:column>
                        </p:dataTable>
                        <br/>

                        <p:commandButton value="Save changes" ajax="false" action="rightsManagement"/>
                        <br/>
                    </div>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>



